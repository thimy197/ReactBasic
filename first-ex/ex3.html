<!DOCTYPE html>
<html>

<head>
    <title>Exercise 3</title>
</head>

<body>
    <div class="js-container"></div>

    <script src="https://unpkg.com/supersimpledev/react.js"></script>
    <script src="https://unpkg.com/supersimpledev/react-dom.js"></script>

    <script src="https://unpkg.com/supersimpledev/babel.js"></script>
    <script type="text/babel">

        function getRandomElement(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        function ButtonCreator({count, onClick}){
            return (
                <div>
                    <button onClick={onClick}>Clicked {count} {count!==0?"times":"time"}</button>
                </div>
            );
        }

        function Counter(){

            const [count, setCount] = React.useState(0);

            function increaseCount(){
                const countVal = count+1;
                setCount(countVal);
            }
            //function reset(){
                //setCount(0);
            //} // () => setCount(0)

            return (
                <>
                    <ButtonCreator onClick={increaseCount} count={count}/>
                    <ButtonCreator onClick={increaseCount} count={count}/>
                    <button onClick={() => setCount(0)}>Reset</button>
                </>
            );
        }

        function DisplayUserType() {
            const examples = ["Simon", "Elice", "Alan", "John"];

            const [valueType, setValueType] = React.useState('');
            function getUserType(event) {
                setValueType(event.target.value);
            }
            function resetInput(){
                setValueType('');
            }
            function getExample(){
                const randomName = getRandomElement(examples);
                setValueType(randomName);
            }
            function handleKey(event){
                if (event.key === 'Enter'){
                    console.log('enter');
                } else if (event.key === 'Escape') {
                    resetInput();
                }
            }

            return (
                <>
                    <input type="text" placeholder="Type a name here" 
                        onChange={getUserType} 
                        value={valueType}
                        onKeyDown={handleKey}
                        />
                    <button onClick={resetInput}>Reset</button>
                    <button onClick={getExample}>Example</button>
                    <p>{valueType}</p>
                </>
            );
        }

        function App(){
            return (
            <>
              <Counter/>
              <hr/>
              <DisplayUserType/>
            </>
        );}
        const container = document.querySelector('.js-container');
        ReactDOM.createRoot(container).render(<App/>);
    </script>
</body>

</html>